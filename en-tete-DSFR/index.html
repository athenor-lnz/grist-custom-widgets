<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>G√©n√©rateur d‚Äôen-t√™te DSFR</title>

  <!-- DSFR CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@gouvfr/dsfr@1.13.1/dist/dsfr/dsfr.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@gouvfr/dsfr@1.13.1/dist/dsfr/utility/utilities.min.css">

  <style>
    body { background: white; margin: 0; padding: 1rem; }
    .fr-container { max-width: 800px; }
    .fr-header, .fr-header__brand { filter: none !important; --hover: transparent; }
    .codebox { width: 100%; min-height: 250px; font-family: monospace; }
    #operator-section { display: none; }
    .note { font-size: 0.9rem; color: #666; margin-top: 1rem; }
  </style>
</head>
<body>

  <div class="fr-container">
    <h2 class="fr-h3">G√©n√©rateur d‚Äôen-t√™te DSFR</h2>
    <p class="fr-text--sm">
      Remplissez les champs ci-dessous, pr√©visualisez le rendu, puis g√©n√©rez le code HTML statique √† copier.
      <br><br>
      <strong>üí° Conseil :</strong> le code g√©n√©r√© est con√ßu pour √™tre coll√© directement dans la configuration du
      <em>Custom Widget Builder</em> du d√©veloppeur <strong>berhalak</strong> sur 
      <a href="https://grist.numerique.gouv.fr" target="_blank">grist.numerique.gouv.fr</a>.
    </p>

    <form id="config-form" class="fr-my-3w">
      <div class="fr-select-group fr-mb-3w">
        <label class="fr-label" for="intitule">Bloc marque</label>
        <select id="intitule" class="fr-select" required>
          <option value="">‚Äî S√©lectionner ‚Äî</option>
        </select>
      </div>

      <div class="fr-input-group fr-mb-3w">
        <label class="fr-label" for="nomService">Nom du service</label>
        <input id="nomService" class="fr-input" type="text" placeholder="">
      </div>

      <div class="fr-input-group fr-mb-3w">
        <label class="fr-label" for="baseline">Baseline (sous-titre)</label>
        <input id="baseline" class="fr-input" type="text" placeholder="">
      </div>

      <div class="fr-input-group fr-mb-3w">
        <label class="fr-label" for="logoUrl">Logo (URL, facultatif)</label>
        <input id="logoUrl" class="fr-input" type="url" placeholder="https://exemple.com/logo.png">
      </div>

      <div class="fr-btns-group fr-btns-group--right">
        <button type="button" id="btn-preview" class="fr-btn">Pr√©visualiser</button>
        <button type="button" id="btn-generate" class="fr-btn fr-btn--secondary">G√©n√©rer le HTML</button>
        <button type="button" id="btn-reset" class="fr-btn fr-btn--tertiary">R√©initialiser</button>
      </div>
    </form>

    <div id="preview" style="display:none;" class="fr-mb-4w">
     <header role="banner" class="fr-header">
        <div class="fr-header__body">
          <div class="fr-container">
            <div class="fr-header__body-row">
              <!-- Bloc Marianne / minist√®re -->
              <div class="fr-header__brand fr-enlarge-link">
                <div class="fr-header__brand-top">
                  <div class="fr-header__logo">
                    <p class="fr-logo" id="intitule-officiel">R√©publique<br>Fran√ßaise</p>
                  </div>
                  <div class="fr-header__operator" id="operator-section">
                    <img id="logo-img" class="fr-responsive-img" style="max-width: 9rem;" alt="Logo">
                  </div>
                </div>
              </div>
      
              <!-- Bloc service √† droite -->
              <div class="fr-header__service">
                <p class="fr-header__service-title" id="nom-service"></p>
                <p class="fr-header__service-tagline" id="baseline-text"></p>
              </div>
            </div>
          </div>
        </div>
      </header>
    </div>

    <div id="result-block" style="display:none;">
      <h4 class="fr-h4">Code HTML g√©n√©r√©</h4>
      <textarea id="export-code" class="fr-input codebox" readonly></textarea>
      <div class="fr-btns-group fr-mt-2w">
        <button type="button" id="btn-copy" class="fr-btn">Copier</button>
        <button type="button" id="btn-download" class="fr-btn fr-btn--secondary">T√©l√©charger</button>
      </div>
      <p class="note">
        üí° Collez ce code dans le <strong>Custom Widget Builder</strong> de <strong>berhalak</strong> pour l‚Äôutiliser dans un widget Grist.
      </p>
    </div>

    <hr class="fr-my-4w">
    <p class="fr-text--sm" style="text-align:center; color:#666;">
      üß© <strong>Credits</strong><br>
      Adapted from <a href="https://github.com/agrippaharfleur/grist-custom-widgets" target="_blank">agrippaharfleur/grist-custom-widgets</a><br>
      Original code licensed under the <strong>MIT License</strong><br>
      Modified and adapted by <a href="https://github.com/athenor-lnz" target="_blank"><strong>github.com/athenor-lnz</strong></a>
    </p>
  </div>

  <!-- DSFR JS -->
  <script src="https://cdn.jsdelivr.net/npm/@gouvfr/dsfr@1.13.1/dist/dsfr/dsfr.module.min.js" type="module"></script>
  <script src="https://cdn.jsdelivr.net/npm/@gouvfr/dsfr@1.13.1/dist/dsfr/dsfr.nomodule.min.js" nomodule></script>

  <!-- Script principal -->
  <script src="./script.js"></script>
</body>
</html>
